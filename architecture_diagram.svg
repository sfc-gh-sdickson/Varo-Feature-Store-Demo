<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 900" width="1200" height="900">
  <defs>
    <style>
      .title { font: bold 28px Arial, sans-serif; fill: #1a1a1a; }
      .subtitle { font: 16px Arial, sans-serif; fill: #4a4a4a; }
      .box-title { font: bold 18px Arial, sans-serif; fill: white; }
      .box-subtitle { font: 14px Arial, sans-serif; fill: white; }
      .box-item { font: 12px Arial, sans-serif; fill: white; }
      .layer-label { font: bold 20px Arial, sans-serif; fill: #2a2a2a; }
    </style>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="900" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="600" y="40" class="title" text-anchor="middle">Varo Intelligence Agent &amp; Feature Store Architecture</text>
  <text x="600" y="65" class="subtitle" text-anchor="middle">Snowflake-Native ML Platform for Digital Banking</text>
  
  <!-- LAYER 1: Intelligence Agent -->
  <rect x="200" y="100" width="800" height="100" fill="#0066cc" stroke="#004d99" stroke-width="3" rx="10"/>
  <text x="600" y="135" class="box-title" text-anchor="middle">Varo Intelligence Agent</text>
  <text x="600" y="160" class="box-subtitle" text-anchor="middle">Natural Language → SQL/ML → Insights</text>
  <text x="600" y="180" class="box-item" text-anchor="middle">Cortex Analyst | Cortex Search | ML Procedures</text>
  
  <!-- LAYER 2: Tools Layer -->
  <text x="100" y="240" class="layer-label">Agent Tools:</text>
  
  <!-- Cortex Analyst -->
  <rect x="50" y="260" width="240" height="160" fill="#00aa55" stroke="#008844" stroke-width="2" rx="8"/>
  <text x="170" y="290" class="box-title" text-anchor="middle">Cortex Analyst</text>
  <text x="170" y="315" class="box-subtitle" text-anchor="middle">Text-to-SQL</text>
  <text x="170" y="340" class="box-item" text-anchor="middle">• Customer Banking</text>
  <text x="170" y="360" class="box-item" text-anchor="middle">• Transaction Payment</text>
  <text x="170" y="380" class="box-item" text-anchor="middle">• Credit Risk</text>
  <text x="170" y="405" class="box-item" text-anchor="middle" font-weight="bold">3 Semantic Views</text>
  
  <!-- Feature Store -->
  <rect x="310" y="260" width="240" height="160" fill="#ff6600" stroke="#cc5200" stroke-width="2" rx="8"/>
  <text x="430" y="290" class="box-title" text-anchor="middle">Feature Store</text>
  <text x="430" y="315" class="box-subtitle" text-anchor="middle">SQL-Based Features</text>
  <text x="430" y="340" class="box-item" text-anchor="middle">• Real-time (Streams)</text>
  <text x="430" y="360" class="box-item" text-anchor="middle">• Batch (Dynamic Tables)</text>
  <text x="430" y="380" class="box-item" text-anchor="middle">• Point-in-Time</text>
  <text x="430" y="405" class="box-item" text-anchor="middle" font-weight="bold">200+ Features</text>
  
  <!-- ML Models -->
  <rect x="570" y="260" width="240" height="160" fill="#9933cc" stroke="#7722aa" stroke-width="2" rx="8"/>
  <text x="690" y="290" class="box-title" text-anchor="middle">ML Models</text>
  <text x="690" y="315" class="box-subtitle" text-anchor="middle">Predictions</text>
  <text x="690" y="340" class="box-item" text-anchor="middle">• Fraud Detection</text>
  <text x="690" y="360" class="box-item" text-anchor="middle">• Advance Eligibility</text>
  <text x="690" y="380" class="box-item" text-anchor="middle">• Customer LTV</text>
  <text x="690" y="405" class="box-item" text-anchor="middle" font-weight="bold">5 Procedures</text>
  
  <!-- Cortex Search -->
  <rect x="830" y="260" width="240" height="160" fill="#ee4400" stroke="#cc3300" stroke-width="2" rx="8"/>
  <text x="950" y="290" class="box-title" text-anchor="middle">Cortex Search</text>
  <text x="950" y="315" class="box-subtitle" text-anchor="middle">Semantic Search</text>
  <text x="950" y="340" class="box-item" text-anchor="middle">• Support Transcripts</text>
  <text x="950" y="360" class="box-item" text-anchor="middle">• Compliance Docs</text>
  <text x="950" y="380" class="box-item" text-anchor="middle">• Product Knowledge</text>
  <text x="950" y="405" class="box-item" text-anchor="middle" font-weight="bold">25K+ Documents</text>
  
  <!-- LAYER 3: Data Layer -->
  <text x="100" y="460" class="layer-label">Data Foundation:</text>
  
  <!-- RAW Schema -->
  <rect x="50" y="480" width="280" height="180" fill="#4466aa" stroke="#334488" stroke-width="2" rx="8"/>
  <text x="190" y="510" class="box-title" text-anchor="middle">RAW Schema</text>
  <text x="190" y="535" class="box-subtitle" text-anchor="middle">Core Banking Tables (13)</text>
  <text x="190" y="560" class="box-item" text-anchor="middle">Customers | Accounts | Transactions</text>
  <text x="190" y="580" class="box-item" text-anchor="middle">Cards | Deposits | Advances</text>
  <text x="190" y="600" class="box-item" text-anchor="middle">Credit Apps | Support | Compliance</text>
  <text x="190" y="625" class="box-item" text-anchor="middle">Merchant Categories | External Data</text>
  <text x="190" y="645" class="box-item" text-anchor="middle" font-weight="bold">2M Customers | 50M+ Txns</text>
  
  <!-- FEATURE_STORE Schema -->
  <rect x="350" y="480" width="280" height="180" fill="#4466aa" stroke="#334488" stroke-width="2" rx="8"/>
  <text x="490" y="510" class="box-title" text-anchor="middle">FEATURE_STORE Schema</text>
  <text x="490" y="535" class="box-subtitle" text-anchor="middle">Feature Management (9 Tables)</text>
  <text x="490" y="560" class="box-item" text-anchor="middle">Feature Definitions | Values</text>
  <text x="490" y="580" class="box-item" text-anchor="middle">Online Features | Training Sets</text>
  <text x="490" y="600" class="box-item" text-anchor="middle">Monitoring | Lineage | Statistics</text>
  <text x="490" y="625" class="box-item" text-anchor="middle">Model Features | Compute Logs</text>
  <text x="490" y="645" class="box-item" text-anchor="middle" font-weight="bold">Sub-Second Serving</text>
  
  <!-- ANALYTICS Schema -->
  <rect x="650" y="480" width="280" height="180" fill="#4466aa" stroke="#334488" stroke-width="2" rx="8"/>
  <text x="790" y="510" class="box-title" text-anchor="middle">ANALYTICS Schema</text>
  <text x="790" y="535" class="box-subtitle" text-anchor="middle">Business Logic</text>
  <text x="790" y="560" class="box-item" text-anchor="middle">Analytical Views (10)</text>
  <text x="790" y="580" class="box-item" text-anchor="middle">Semantic Views (3)</text>
  <text x="790" y="600" class="box-item" text-anchor="middle">ML Procedures (5)</text>
  <text x="790" y="625" class="box-item" text-anchor="middle">Customer 360 | Risk Metrics</text>
  <text x="790" y="645" class="box-item" text-anchor="middle" font-weight="bold">Ready for Intelligence Agent</text>
  
  <!-- Arrows from Agent to Tools -->
  <path d="M 400,200 L 170,260" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 500,200 L 430,260" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 700,200 L 690,260" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 800,200 L 950,260" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Arrows from Tools to Data -->
  <path d="M 170,420 L 190,480" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 430,420 L 490,480" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 690,420 L 790,480" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 950,420 L 790,480" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Feature Flow Arrow -->
  <path d="M 550,340 L 570,340" stroke="#ff6600" stroke-width="4" fill="none"/>
  <polygon points="570,335 580,340 570,345" fill="#ff6600"/>
  <text x="560" y="330" class="box-item" font-size="10">Feature Flow</text>
  
  <!-- Tecton Comparison Box -->
  <rect x="50" y="700" width="1100" height="150" fill="#e8f4f8" stroke="#0066cc" stroke-width="2" rx="8"/>
  <text x="600" y="730" font-size="20" font-weight="bold" text-anchor="middle" fill="#0066cc">Key Advantages vs Tecton</text>
  
  <text x="100" y="765" font-size="14" fill="#2a2a2a">✓ SQL-First: All features in SQL (no Python/Scala)</text>
  <text x="100" y="790" font-size="14" fill="#2a2a2a">✓ Auto-Scaling: Serverless compute scales automatically</text>
  <text x="100" y="815" font-size="14" fill="#2a2a2a">✓ Unified Platform: Features, ML, Analytics in one system</text>
  
  <text x="650" y="765" font-size="14" fill="#2a2a2a">✓ Streaming: Native Streams for real-time features</text>
  <text x="650" y="790" font-size="14" fill="#2a2a2a">✓ Time Travel: Built-in backfill &amp; history</text>
  <text x="650" y="815" font-size="14" fill="#2a2a2a">✓ Lower Cost: Pay only for compute used</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666"/>
    </marker>
  </defs>
</svg>
